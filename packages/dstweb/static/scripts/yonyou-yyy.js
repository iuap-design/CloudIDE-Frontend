Config={tid:"UwykpgUiOZ6678052166",appid:"CODxIcoubH6683455833",host:"https://yyy.yonyoucloud.com",version:""};window._yy_rum||function(window){var MD5=function(){var hexcase=0;var chrsz=8;function hex_md5(s){return binl2hex(core_md5(str2binl(s),s.length*chrsz))}function core_md5(x,len){x[len>>5]|=128<<((len)%32);x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn((b&c)|((~b)&d),a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn((b&d)|(c&(~d)),a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|(~d)),a,b,x,s,t)}function safe_add(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&65535)}function bit_rol(num,cnt){return(num<<cnt)|(num>>>(32-cnt))}function str2binl(str){var bin=Array();var mask=(1<<chrsz)-1;for(var i=0;i<str.length*chrsz;i+=chrsz){bin[i>>5]|=(str.charCodeAt(i/chrsz)&mask)<<(i%32)}return bin}function binl2hex(binarray){var hex_tab=hexcase?"0123456789ABCDEF":"0123456789abcdef";var str="";for(var i=0;i<binarray.length*4;i++){str+=hex_tab.charAt((binarray[i>>2]>>((i%4)*8+4))&15)+hex_tab.charAt((binarray[i>>2]>>((i%4)*8))&15)}return str}return{hex:hex_md5}}();var Utils={};Utils.lang={isTypeOf:function(obj,type){return"[object "+type+"]"==={}.toString.call(obj)}};Utils.cookie={get:function(name){return(name=new RegExp("(^| )"+name+"=([^;]*)(;|$)").exec(document.cookie))?name[2]:null},set:function(name,value,options){var f;options.expires&&(f=new Date,f.setTime(f.getTime()+options.expires));document.cookie=name+"="+value+(options.domain?"; domain="+options.domain:"")+(options.path?"; path="+options.path:"")+(f?"; expires="+f.toGMTString():"")+(options.secure?"; secure":"")}};Utils.localStorage={userDataStorage:function(){if(!Utils.localStorage.g){try{Utils.localStorage.g=document.createElement("input");Utils.localStorage.g.type="hidden";Utils.localStorage.g.style.display="none";Utils.localStorage.g.addBehavior("#default#userData");document.getElementsByTagName("head")[0].appendChild(Utils.localStorage.g)}catch(a){return false}}return true},get:function(name){if(window.localStorage){if(name=window.localStorage.getItem(name)){var d=name.indexOf("|"),e=name.substring(0,d)-0;if(e&&e>(new Date).getTime()){return name.substring(d+1)}}}else{if(Utils.localStorage.userDataStorage()){try{Utils.localStorage.g.load(document.location.hostname);return Utils.localStorage.g.getAttribute(name)}catch(e){}}}return null},set:function(name,value,expires){var f=new Date;f.setTime(f.getTime()+expires||31536000000);try{if(window.localStorage){value=f.getTime()+"|"+value;window.localStorage.setItem(name,value)}else{if(Utils.localStorage.userDataStorage()){Utils.localStorage.g.expires=f.toUTCString();Utils.localStorage.g.load(document.location.hostname);Utils.localStorage.g.setAttribute(name,value);Utils.localStorage.g.save(document.location.hostname)}}}catch(e){}},remove:function(name){if(window.localStorage){window.localStorage.removeItem(name)}else{if(Utils.localStorage.userDataStorage()){try{Utils.localStorage.g.load(document.location.hostname);Utils.localStorage.g.removeAttribute(name);Utils.localStorage.g.save(document.location.hostname)}catch(d){}}}}};Utils.sessionStorage={set:function(name,value){if(window.sessionStorage){try{window.sessionStorage.setItem(name,value)}catch(e){}}},get:function(name){return window.sessionStorage?window.sessionStorage.getItem(name):null},remove:function(name){window.sessionStorage&&window.sessionStorage.removeItem(name)}};Utils.userAgent=function(){var agent=navigator.userAgent;var UA=function(){var _window=window||{};var _navigator=navigator||{};return function(userAgent){var u=userAgent||_navigator.userAgent;var _this=this;var match={"Trident":u.indexOf("Trident")>-1||u.indexOf("NET CLR")>-1,"Presto":u.indexOf("Presto")>-1,"WebKit":u.indexOf("AppleWebKit")>-1,"Gecko":u.indexOf("Gecko/")>-1,"Safari":u.indexOf("Safari")>-1,"Chrome":u.indexOf("Chrome")>-1||u.indexOf("CriOS")>-1,"IE":u.indexOf("MSIE")>-1||u.indexOf("Trident")>-1,"Edge":u.indexOf("Edge")>-1,"Firefox":u.indexOf("Firefox")>-1||u.indexOf("FxiOS")>-1,"Firefox Focus":u.indexOf("Focus")>-1,"Chromium":u.indexOf("Chromium")>-1,"Opera":u.indexOf("Opera")>-1||u.indexOf("OPR")>-1,"Vivaldi":u.indexOf("Vivaldi")>-1,"Yandex":u.indexOf("YaBrowser")>-1,"Kindle":u.indexOf("Kindle")>-1||u.indexOf("Silk/")>-1,"360":u.indexOf("360EE")>-1||u.indexOf("360SE")>-1,"UC":u.indexOf("UC")>-1||u.indexOf(" UBrowser")>-1,"QQBrowser":u.indexOf("QQBrowser")>-1,"QQ":u.indexOf("QQ/")>-1,"Baidu":u.indexOf("Baidu")>-1||u.indexOf("BIDUBrowser")>-1,"Maxthon":u.indexOf("Maxthon")>-1,"Sogou":u.indexOf("MetaSr")>-1||u.indexOf("Sogou")>-1,"LBBROWSER":u.indexOf("LBBROWSER")>-1,"2345Explorer":u.indexOf("2345Explorer")>-1,"TheWorld":u.indexOf("TheWorld")>-1,"XiaoMi":u.indexOf("MiuiBrowser")>-1,"Quark":u.indexOf("Quark")>-1,"Qiyu":u.indexOf("Qiyu")>-1,"Wechat":u.indexOf("MicroMessenger")>-1,"Taobao":u.indexOf("AliApp(TB")>-1,"Alipay":u.indexOf("AliApp(AP")>-1,"Weibo":u.indexOf("Weibo")>-1,"Douban":u.indexOf("com.douban.frodo")>-1,"Suning":u.indexOf("SNEBUY-APP")>-1,"iQiYi":u.indexOf("IqiyiApp")>-1,"Windows":u.indexOf("Windows")>-1,"Linux":u.indexOf("Linux")>-1||u.indexOf("X11")>-1,"Mac OS":u.indexOf("Macintosh")>-1,"Android":u.indexOf("Android")>-1||u.indexOf("Adr")>-1,"Ubuntu":u.indexOf("Ubuntu")>-1,"FreeBSD":u.indexOf("FreeBSD")>-1,"Debian":u.indexOf("Debian")>-1,"Windows Phone":u.indexOf("IEMobile")>-1||u.indexOf("Windows Phone")>-1,"BlackBerry":u.indexOf("BlackBerry")>-1||u.indexOf("RIM")>-1,"MeeGo":u.indexOf("MeeGo")>-1,"Symbian":u.indexOf("Symbian")>-1,"iOS iPhone":u.indexOf("iPhone")>-1,"iOS iPad":u.indexOf("iPad")>-1,"iOS iPod":u.indexOf("iPod")>-1,"Chrome OS":u.indexOf("CrOS")>-1,"WebOS":u.indexOf("hpwOS")>-1,"(Mobile)":u.indexOf("Mobi")>-1||u.indexOf("iPh")>-1||u.indexOf("480")>-1,"(Tablet)":u.indexOf("Tablet")>-1||u.indexOf("Pad")>-1||u.indexOf("Nexus 7")>-1};if(match["(Mobile)"]){match["(Mobile)"]=!(u.indexOf("iPad")>-1)}else{if(_window.showModalDialog&&_window.chrome){match["360"]=true}}var hash={engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","iOS iPhone","iOS iPad","iOS iPod","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["(Mobile)","(Tablet)"]};_this.device="(PC)";_this.language=(function(){var g=(_navigator.browserLanguage||_navigator.language);var arr=g.split("-");if(arr[1]){arr[1]=arr[1].toUpperCase()}return arr.join("_")})();for(var s in hash){for(var i=0;i<hash[s].length;i++){var value=hash[s][i];if(match[value]){_this[s]=value}}}var osVersion={"Windows":function(){var v=u.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");var hash={"6.4":"10","6.3":"8.1","6.2":"8","6.1":"7","6.0":"Vista","5.2":"XP","5.1":"XP","5.0":"2000"};return hash[v]||v},"Android":function(){return u.replace(/^.*Android ([\d.]+);.*$/,"$1")},"iOS":function(){return u.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},"Debian":function(){return u.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return u.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return u.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},"WebOS":function(){return u.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};_this.osVersion="";if(osVersion[_this.os]){_this.osVersion=osVersion[_this.os]();if(_this.osVersion==u){_this.osVersion=""}}var version={"Safari":function(){return u.replace(/^.*Version\/([\d.]+).*$/,"$1")},"Chrome":function(){return u.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},"IE":function(){return u.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},"Edge":function(){return u.replace(/^.*Edge\/([\d.]+).*$/,"$1")},"Firefox":function(){return u.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return u.replace(/^.*Focus\/([\d.]+).*$/,"$1")},"Chromium":function(){return u.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},"Opera":function(){return u.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},"Vivaldi":function(){return u.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},"Yandex":function(){return u.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},"Kindle":function(){return u.replace(/^.*Version\/([\d.]+).*$/,"$1")},"Maxthon":function(){return u.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},"QQBrowser":function(){return u.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},"QQ":function(){return u.replace(/^.*QQ\/([\d.]+).*$/,"$1")},"Baidu":function(){return u.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1")},"UC":function(){return u.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},"Sogou":function(){return u.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},"2345Explorer":function(){return u.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},"TheWorld":function(){return u.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},"XiaoMi":function(){return u.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},"Quark":function(){return u.replace(/^.*Quark\/([\d.]+).*$/,"$1")},"Qiyu":function(){return u.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},"Wechat":function(){return u.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},"Taobao":function(){return u.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},"Alipay":function(){return u.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},"Weibo":function(){return u.replace(/^.*weibo__([\d.]+).*$/,"$1")},"Douban":function(){return u.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},"Suning":function(){return u.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},"iQiYi":function(){return u.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};_this.version="";if(version[_this.browser]){_this.version=version[_this.browser]();if(_this.version===u){_this.version=""}}if(_this.browser==="Edge"){_this.engine="EdgeHTML"}else{if(_this.browser==="Chrome"&&parseInt(_this.version)>27){_this.engine="Blink"}else{if(_this.browser==="Opera"&&parseInt(_this.version)>12){_this.engine="Blink"}else{if(_this.browser==="Yandex"){_this.engine="Blink"}}}}}}();var ua=new UA(agent);return{browser:ua.browser+" "+ua.version,device:ua.os+" "+ua.device,engine:ua.engine,language:ua.language,all:agent}}();var messageHandler=function(){var observers={any:[]},on=function(type,fn){type=type||"any";this.observers[type]||(this.observers[type]=[]);this.observers[type].push(fn)},remove=function(type,fn){var emitType=type||"any",observers=this.observers[emitType],i,max=observers.length;for(i=0;i<max;i++){if(observers[i]===fn){observers.splice(i,1)}}},emit=function(type,msg){var emitType=type||"any",observers=this.observers[emitType],i,max=observers.length;for(i=0;i<max;i++){observers[i](msg)}};return{publish:emit,subscribe:on,unsubscribe:remove}}();function makeMessageHandler(o){var i;for(i in messageHandler){if(messageHandler.hasOwnProperty(i)&&typeof messageHandler[i]==="function"){o[i]=messageHandler[i]}}o.observers={any:[]}}function MessageCenter(){function bind(obj,evtName,func,flag){if(obj.addEventListener){obj.addEventListener(evtName,func,flag)}else{if(obj.attachEvent){obj.attachEvent("on"+evtName,func)}}}var instance;MessageCenter=function MessageCenter(){return instance};MessageCenter.prototype=this;instance=new MessageCenter();instance.constructor=MessageCenter;instance.id=getRandomStr(8);makeMessageHandler(instance);bind(window,"message",function(t){return function(event){var r=event.data,i=r.mode||r.circleMode;if(r.tid!==Config.tid){return}switch(i){case"register-SDK-circle":case"register-SDK-option":return t.publish(i,r);default:}}}(instance));return instance}function toString(t){switch(typeof t){case"object":if(!t){return"null"}if(t instanceof Array){for(var r="[",n=0;n<t.length;n++){r+=(n>0?",":"")+toString(t[n])}return r+"]"}var r="{",n=0;for(var a in t){if("function"!=typeof t[a]){var i=toString(t[a]);r+=(n>0?",":"")+toString(a)+":"+i,n++}}return r+"}";case"string":return'"'+t.replace(/([\"\\])/g,"\\$1").replace(/\n/g,"\\n")+'"';case"number":return t.toString();case"boolean":return t?"true":"false";case"function":return toString(t.toString());case"undefined":default:return'"undefined"'}}function encodeURI(t){return myEncodeURI?myEncodeURI(t):t}function nowDate(){return Date.now?Date.now():(new Date).valueOf()}function makeBid(length){var prefix="JS",_bid=prefix+getRandomStr(length||8);Utils.cookie.set(CLB,_bid,{expire:3600*24,domain:document.location.hostname,path:"/"});Utils.localStorage.set(CLB,_bid,3600*24);return _bid}function a(t,e,r){function n(){var t=Tools.args.apply(this,arguments);return e(i,t,r)}var a,i=t[t.length-1];if("function"==typeof i){switch(i.length){case 0:a=function(){return n.apply(this,arguments)};break;case 1:a=function(t){return n.apply(this,arguments)};break;case 2:a=function(t,e){return n.apply(this,arguments)};break;case 3:a=function(t,e,r){return n.apply(this,arguments)};break;case 4:a=function(t,e,r,a){return n.apply(this,arguments)};break;case 5:a=function(t,e,r,a,i){return n.apply(this,arguments)};break;default:for(var o=[],s=0,u=i.length;u>s;s++){o.push("_"+s)}a=eval("(function(){return function("+o.join(",")+"){var args = [].slice.call(arguments, 0);return e(i, args, r);};})();")}t[t.length-1]=a}return t}function i(t,e){return t&&e&&(t.moduleName=e),t}function o(t,e,r){return function(){try{k=e,r&&s(e),t.apply(this,arguments),r&&u()}catch(n){throw r&&u(),i(n,e)}}}function s(e){}function u(){}function evtMonitor(t){myEventTarget&&Tools.wrap(!1,myEventTarget.prototype,"addEventListener",function(handler){return function(){var r,n=Tools.args.apply(this,arguments),a=n[1];return"function"===typeof a&&(r=o(a,t,!0)),r&&(n[1]=r),handler.apply(this,n)}}),s(t)}function f(){myEventTarget&&Tools.unwrap(myEventTarget.prototype,"addEventListener");u()}function p(t){return function(t,e){}}function sendErrors(){if(this.errors.length){var errorTrace=function(errors){var e=[],c=0,r={};Tools.each(errors,function(item){var e=simpleError(item[1],item[2],item[3],item[6]);r[e]?r[e]["cnt"]+=1:r[e]={"jid":getRandomStr(8)+nowDate(),"url":myDocument.URL,"ts":nowDate(),"jt":"web","bv":Utils.userAgent.browser,"fu":c?c:c++,"os":parseInt((nowDate()-(N||yy_rum.start))/1000),"msg":item[1],"lno":item[2],"cno":item[3],"ref":"#"==item[4]?myDocument.URL:item[4],"cnt":1,"stk":item[5],"module":item[6],"rc":item[7]}});for(var n in r){e.push(r[n])}return e}(this.errors),e=this,err={};err.header={tid:yy_rum.server.tid,appid:yy_rum.server.appid,uc:YyRum.getUserId(),ua:Utils.userAgent.all,bv:Utils.userAgent.browser,dv:Utils.userAgent.device,sh:window.screen.height,sw:window.screen.width,v:yy_rum.server.version,ip:"#~#~#~",pt:"err"};err.content=errorTrace;Tools.POST(yy_rum.server.beacon,Tools.stringify([err]),{},function(t,r){t||(e.errors=[])})}}function registerCircle(){var controlMode=["circle-mode","browse-mode","page-mode-on","page-mode-off"],runMode=["circle-mode","browse-mode","page-mode-on","page-mode-off","load-plugin","register-iframe","page-load","circle-load"],$apply=function(func,obj){return function(){return func.apply(obj,arguments)}},n=null!==window.self.name?window.self.name:window.name;"ycmcw"!==n&&(n="ycmcw-inner-iframe");var _circle=window._circle={tid:Config.tid,appid:Config.appid,name:n,id:getRandomStr(8),origin:"https://yyy.yonyoucloud.com/ycm-appmonitor"};function Circle(){this.started=false;this.onRegisterCircleOption=$apply(this.onRegisterCircleOption,this);this.registerCircleHandler=$apply(this.registerCircleHandler,this);this.loadPlugin=$apply(this.loadPlugin,this);this.startCircle=$apply(this.startCircle,this);this.stopCircle=$apply(this.stopCircle,this);this.startCirclePage=$apply(this.startCirclePage,this);this.stopCirclePage=$apply(this.stopCirclePage,this);this.allowOrigin=_circle.origin;MC.subscribe("register-SDK-circle",this.registerCircleHandler);MC.subscribe("register-SDK-option",this.onRegisterCircleOption);this.sendRegisterCircleOption()}Circle.prototype.onRegisterCircleOption=function(data){var r=data,o=_circle.id;if(Tools.canPostRegisterMessage()&&"ycmcw"===_circle.name&&Tools.indexOf(r.tArr,o)<0){r.tArr.push(_circle.id);return parent.postMessage(r,"*")}};Circle.prototype.onSdkMessage=function(){Tools.addEventListener(window,"message",function(t){return function(e){var r,data,i,s,d,c,l;data=e.data;c=data.mode||data.circleMode;Tools.log("--> "+c);if(data.tid===window._circle.tid&&data.appid===window._circle.appid&&(t.isSdkEvent(c)&&(!data.fsna||"sdk"===data.fsna))){if("ycmcw-inner-iframe"===data.sna){return void parent.postMessage(e.data,"*")}if(Tools.indexOf(controlMode,c)>=0){Tools.spreadToInnerIframes(data)}else{if(data.tgna!==window._circle.name&&data.tgna&&data.tgid){for(r=document.getElementsByTagName("iframe"),i=0,d=r.length;d>i;i++){s=r[i];t.notifyInnerIframes(s,data)}return}}if(Tools.indexOf(controlMode,c)>=0||data.tgna===window._circle.name||e.origin===window._circle.origin||-1!==Tools.indexOf(Config.host,e.origin.split("://")[1])){e.origin!==window._circle.origin&&(window._circle.origin=e.origin);switch(c){case"load-plugin":return t.loadPlugin();case"circle-mode":return t.startCircle();case"browse-mode":return t.stopCircle();case"page-mode-on":return t.startCirclePage();case"page-mode-off":return t.stopCirclePage()}}}}}(this))};Circle.prototype.sendRegisterCircleOption=function(){var t;if(Tools.canPostRegisterMessage()){t={circleMode:"register-SDK-option",url:window.location.toString(),tid:window._circle.tid,appid:window._circle.appid,sna:_circle.name,sid:_circle.id,tgna:"",tgid:"",fsna:"sdk",tArr:[_circle.id]};parent.postMessage(t,"*")}};Circle.prototype.registerCircleHandler=function(r){this.onSdkMessage();this.sendPageLoad();Tools.spreadToInnerIframes(r)};Circle.prototype.notifyInnerIframes=function(t,e){var r=t.contentWindow;r&&r.postMessage(e,"*")};Circle.prototype.isSdkEvent=function(t){return Tools.indexOf(runMode,t)>=0};Circle.prototype.sendPageLoad=function(t){var e={circleMode:"page-load",url:window.location.toString(),tid:_circle.tid,appid:_circle.appid,sna:_circle.name,sid:_circle.id,tgna:"",fsna:"sdk"};t&&t.pg&&(e.pa=t);parent.postMessage(e,"*");if(this.pluginLoaded){setTimeout(function(){var CircleEvents=window.YCP&&window.YCP.CircleEvents;return CircleEvents?CircleEvents.publish("circle:load"):void 0},200)}};Circle.prototype.registerInnerIframe=function(t){var e;if("ycmcw"!==_circle.name){e={circleMode:"register-iframe",url:window.location.toString(),tid:_circle.tid,appid:_circle.appid,ht:_circle.hashtag,sna:_circle.name,sid:_circle.id,tgna:"",fsna:"sdk"},(t?t.pg:void 0)&&(e.pa=t);parent.postMessage(e,"*")}};Circle.prototype.loadPlugin=function(){this.pluginLoaded=false;var scripts=document.getElementsByTagName("script");for(var n=0,i=scripts.length;i>n;n++){var s=scripts[n];var src=s.getAttribute("src");if(src&&-1!==src.indexOf("/circle-plugin.js")){this.pluginLoaded=true;return}}var cpScript=document.createElement("script");cpScript.type="text/javascript";cpScript.charset="UTF-8";cpScript.src=this.allowOrigin+"/assets/javascripts/circle-plugin.js";document.head.appendChild(cpScript);var cpLink=document.createElement("link");cpLink.rel="stylesheet";cpLink.href=this.allowOrigin+"/assets/stylesheets/circle-plugin.css";document.head.appendChild(cpLink)};Circle.prototype.startCircle=function(){if(!this.pluginLoaded){var scripts=document.getElementsByTagName("script");for(var n=0,i=scripts.length;i>n;n++){var s=scripts[n];var src=s.getAttribute("src");if(src&&-1!==src.indexOf("/circle-plugin.js")){this.pluginLoaded=true;break}}}if(this.pluginLoaded){this.publishCircle()}};Circle.prototype.stopCircle=function(){var CircleEvents;if(CircleEvents=window.YCP&&window.YCP.CircleEvents){CircleEvents.publish("circle:stop");this.started=false;for(var n=0;n<events.length;n++){Tools.addEventListener(myDocument,events[n][0],events[n][1],false)}YyRum.startSendTimer()}};Circle.prototype.startCirclePage=function(){var CircleEvents;if(CircleEvents=window.YCP&&window.YCP.CircleEvents){if(this.started){CircleEvents.publish("circle:page:on")}}};Circle.prototype.stopCirclePage=function(){var CircleEvents;if(CircleEvents=window.YCP&&window.YCP.CircleEvents){CircleEvents.publish("circle:page:off")}};Circle.prototype.publishCircle=function(){var CircleEvents;if(CircleEvents=window.YCP&&window.YCP.CircleEvents){for(var n=0;n<events.length;n++){Tools.removeEventListener(myDocument,events[n][0],events[n][1],true)}YyRum.stopSendTimer();CircleEvents.publish("circle:start");this.started=true;this.registerInnerIframe()}else{setTimeout(function(t){return function(){return t.publishCircle()}}(this),2000)}};return new Circle}function domContentLoaded(){YyRum.initend();registerCircle()}function domComplete(){if("complete"===myDocument.readyState){YyRum.initend()}}function load(t){function emit(){setLoadId();YyRum.send()}if(!yy_rum.load_time){YyRum.initend();yy_rum.load_time=nowDate();if(9===t){emit()}else{setTimeout(emit,0)}}}var pageId;function setPageId(){pageId="pageid"+nowDate()+Math.round(Math.random()*1000000)}var loadId;function setLoadId(){loadId="loadid"+nowDate()+Math.round(Math.random()*1000000)}function unload(){loaded||load(9);Tools.bind(sendErrors,YyRum)();loaded=true;try{Utils.cookie.set(CLB,"",{domain:Tools.domain(),path:"/",expires:-1});Utils.localStorage.remove(CLB);Utils.sessionStorage.remove(CLB)}catch(f){}}function domTouch(evt){YyRum.touch||(YyRum.touch=nowDate());var evtType=evt.type,node=evt.srcElement||evt.target,name=(node.tagName||node.nodeName||"").toLowerCase(),_bid=bs.bid,_bizSrc=bs.bizSrc;if((typeof MouseEvent!=="undefined"&&evt instanceof MouseEvent)||evtType==="click"||evtType==="mouseup"||evtType==="focus"){bs.bid_on_load=""}if(evtType==="mouseup"&&"body"!==name&&"html"!==name&&name.indexOf("document")<0){var c_bid=CLB;try{Utils.cookie.set(c_bid,"",{domain:Tools.domain(),path:"/",expires:-1});Utils.localStorage.remove(c_bid);Utils.sessionStorage.remove(c_bid)}catch(f){}}if("body"!==name&&"html"!==name&&name.indexOf("document")<0){if("textarea"===name||("input"===name&&Tools.indexOf(["button","submit"],node.type)===-1)){return}if(-1!==Tools.indexOf(["I","SPAN"],name)&&node.parentNode&&-1!==Tools.indexOf(["A","BUTTON"],node.parentNode.tagName||node.parentNode.nodeName)){node=node.parentNode}var tagValue=node.value||node.innerText||node.textContent||node.title;var href=Tools.getNodeAttr(node,"src")||Tools.getNodeAttr(node,"href");_bizSrc.tagValue=Tools.trim(tagValue.replace(/[\n\t\r\s]/g,""));_bizSrc.xpath=Tools.calculateXpath(node);_bizSrc.href=href}if(_bid&&!_bizSrc[_bid]){_bizSrc[_bid]={};_bizSrc[_bid].tagValue=_bizSrc.tagValue;_bizSrc[_bid].xpath=_bizSrc.xpath;_bizSrc[_bid].href=_bizSrc.href;_bizSrc.tagValue="";_bizSrc.xpath="";_bizSrc.href=""}}function g(t){if(t[6]){var e=t[4],r=t[5];if(r&&"string"==typeof r&&e){r=r.split(/\n/);var n=regExp.exec(r[0]);n||(n=regExp.exec(r[1])),n&&n[1]!=e&&(t[4]=n[1]||e,t[2]=n[2]||t[2],t[3]=n[3]||t[3])}}}function simpleError(message,lineNo,colNo,moduleName){return message+":"+(moduleName?moduleName:"")+":"+lineNo+":"+colNo}function pushError(e){var r=arguments,a="unknown",error=[nowDate()];if(0!=r.length){if("string"==typeof e){var o=r.length<4?r.length:4;error[1]=r[0],o>2&&(error[2]=r[2],error[3]=0,error[4]=r[1]),o>3&&r[3]&&(error[3]=r[3])}else{if(e instanceof Event||window.ErrorEvent&&e instanceof ErrorEvent){error[1]=e.message||(e.error&&e.error.constructor.name)+(e.error&&e.error.message)||"";error[2]=e.lineno||0;error[3]=e.colno||0;error[4]=e.filename||e.error&&e.error.fileName||e.target&&e.target.baseURI||"";error[4]==myDocument.URL&&(error[4]="#");if(e.error){error[5]=e.error.stack;error[6]=e.error.moduleName;var s=simpleError(error[1],error[2],error[3],error[6]);error[7]=errorRecorded[s]?0:1;errorRecorded[s]=!0}else{error[5]=null;error[6]=null;error[7]=0}if(error[1]===a&&error[4]===a){return}g(error)}}YyRum.errors.push(error)}}function wrappedOpen(open){return function(){var args=arguments;if(!this._yy_wrap){var r=Tools.args.apply(this,args);this._yy_rum={method:r[0],url:r[1],start:nowDate(),cte:!!(window._yy_t_cb_na&&window._yy_cyclic_timer[window._yy_t_cb_na])}}try{return open.apply(this,args)}catch(a){return Function.prototype.apply.call(open,this,args)}}}function myLength(e){return"string"==typeof e?e.length:window.ArrayBuffer&&e instanceof ArrayBuffer?e.byteLength:window.Blob&&e instanceof Blob?e.size:e&&e.length?e.length:0}function getTxid(e){if(e.getResponseHeader){var n=e.getResponseHeader("TXID");var r={name:e._yy_rum.url,xData:{txid:n}};window._yy_rum.responseHeader.push(r)}return n}function getRandomStr(e){var strLength=e||8;var rdmString="";for(;rdmString.length<strLength;rdmString+=Math.random().toString(36).substr(2)){}rdmString=rdmString.substr(0,strLength);return rdmString}function getTrandur(e){if(e.getResponseHeader){var n=e.getResponseHeader("txtime")}n=parseInt(n);if(isNaN(n)){n=0}return n}function wrappedSend(send){return function(){function getValueOfUrlParam(param,primaryUrl,secondaryUrl){var regex=new RegExp(param+"=\\w+","i");var value;var dcRef=primaryUrl&&decodeURIComponent(primaryUrl)||"";value=dcRef.match(regex);if(!value&&secondaryUrl){dcRef=primaryUrl&&decodeURIComponent(secondaryUrl)||"";value=dcRef.match(regex)}return(value&&Tools.trim(value[0].split("=")[1]))||""}function assembleXHRItem(t){var xhrItem,r,curXhr=thisXHR._yy_rum;if(curXhr){4!==curXhr.readyState&&(curXhr.end=nowDate());ajaxCounter.subtract();curXhr.s=thisXHR.status;if(""===thisXHR.responseType||"text"===thisXHR.responseType){curXhr.resLength=myLength(thisXHR.responseText)}else{if(thisXHR.response){curXhr.resLength=myLength(thisXHR.response)}else{try{curXhr.resLength=myLength(thisXHR.responseText)}catch(i){curXhr.resLength=0}}}curXhr.readyState=thisXHR.readyState;curXhr.cb_time=d;xhrItem={jid:getRandomStr(8)+nowDate(),ref:bs.bidRef[curXhr.bid],ts:nowDate(),jt:"web",m:curXhr.method,url:curXhr.url,nt:bs.bid_on_load&&9||1,rf:myDocument.referrer,txrs:curXhr.start,txre:curXhr.end,es:curXhr.s>0?curXhr.end-curXhr.start:0,d:d,sat:curXhr.s,t:t,res:curXhr.resLength,req:curXhr.req,txid:getTxid(thisXHR),txtime:getTrandur(thisXHR),rtxtime:getTrandur(thisXHR),bid:curXhr.bid};var _bizSrc=bs.bizSrc;if(!_bizSrc[curXhr.bid]){_bizSrc[curXhr.bid]={};_bizSrc[curXhr.bid].tagValue=_bizSrc.tagValue,_bizSrc.tagValue="";_bizSrc[curXhr.bid].xpath=_bizSrc.xpath,_bizSrc.xpath="";_bizSrc[curXhr.bid].href=_bizSrc.href,_bizSrc.href=""}xhrItem.dtxt=_bizSrc[curXhr.bid].tagValue;xhrItem.xpath=_bizSrc[curXhr.bid].xpath;xhrItem.href=_bizSrc[curXhr.bid].href;var uc=YyRum.getUserId();if(uc){xhrItem.uc=uc.toLowerCase()}xhrItem.tnt=(xhrItem.es<xhrItem.txtime)?(xhrItem.es=xhrItem.txtime,0):(xhrItem.es-xhrItem.txtime);var baItems=[];var topTitle,title;try{topTitle=window.top.document.title;if(topTitle){baItems.push(topTitle.replace(/\s+/g,"").substring(0,10))}}catch(e){}title=window.document.title===topTitle?"":window.document.title;title=title&&title.replace("List","列表")||getValueOfUrlParam("nodecode",xhrItem.ref,xhrItem.url)||getValueOfUrlParam("nc",xhrItem.ref,xhrItem.url)||getValueOfUrlParam("portletWind",xhrItem.ref,xhrItem.url)||getValueOfUrlParam("pagename",xhrItem.ref,xhrItem.url);if(title){baItems.push(title.replace(/\s+/g,"").substring(0,10))}if(xhrItem.dtxt){xhrItem.dtxt=xhrItem.dtxt.substring(0,10);baItems.push(xhrItem.dtxt)}xhrItem.ba=baItems.join("#");yy_rum.server.xhrData.push(xhrItem);if(yy_rum.server.custom_urls&&yy_rum.server.custom_urls.length&&!YyRum.ct){if(!yy_rum.pattern){yy_rum.pattern=[];for(var s=0;s<yy_rum.server.custom_urls.length;s++){yy_rum.pattern.push(new RegExp(yy_rum.server.custom_urls[s]))}}for(var s=0;s<yy_rum.pattern.length;s++){if(curXhr.url.match(yy_rum.pattern[s])){YyRum.ct=curXhr.end+d;break}}}thisXHR._yy_rum=null}}function readyStateChange(){function wrapXhrCallback(type,oriFunc){thisXHR["on"+type]=function(){if(console){console.log(type)}var e=arguments;myXHR.prototype.tempBid=tempBid;oriFunc.apply(thisXHR,e);setTimeout(function(){myXHR.prototype.tempBid=""},14)}}if(4===thisXHR.readyState){var xhrCallbackEvent=["load","error","abort"];var tempBid=thisXHR._yy_rum&&thisXHR._yy_rum.bid;for(var i=0;i<xhrCallbackEvent.length;i++){var type=xhrCallbackEvent[i];var _oriOnFunc=thisXHR["on"+type];if(_oriOnFunc){wrapXhrCallback(type,_oriOnFunc)}}assembleXHRItem(0)}}function canSetRequestHeader(xhr){var options=xhr._yy_rum;if(options&&options.url){return options.url.startsWith(location.origin)&&YyRum.allowSetRequestHeaders&&xhr.setRequestHeader}return false}function responseHeader(e){var r;if(e.getResponseHeader){var n=Tools.parseJSON(e.getResponseHeader("TXID"));n&&n.encodeURI&&e._yy_rum&&n.encodeURI+""==e._yy_rum.encodeURI+""&&(r={name:e._yy_rum.url,xData:n},winPerf&&window._yy_rum.responseHeader.push(r))}return r}function onReadyStateChange(t){var $bid=thisXHR._yy_rum.bid;return function(){var e,r;4==thisXHR.readyState&&thisXHR._yy_rum&&(thisXHR._yy_rum.end=e=nowDate(),thisXHR._yy_rum.readyState=4);try{k&&s(k);myXHR.prototype.tempBid=$bid;r=t.apply(this,arguments);setTimeout(function(){myXHR.prototype.tempBid=""},14);k&&u()}catch(o){o=i(o,k);k&&u();k=null;throw o}return 4==thisXHR.readyState&&(d=nowDate()-e),readyStateChange(),r}}function preProcessing(t){return function(){var e=thisXHR._yy_rum;if(e){if("progress"==t){}else{if("abort"==t){assembleXHRItem(905)}else{if("loadstart"==t){e.start=nowDate()}else{if("error"==t){assembleXHRItem(990)}else{if("timeout"==t){assembleXHRItem(903)}}}}}}}}function addEventsToXHR(xhr,evts){evts instanceof Array||(evts=[evts]);for(var i=0;i<evts.length;i++){var evtName=evts[i];Tools.addEventListener(xhr,evtName,preProcessing(evtName),!1)}}var urlUsable=function(){function t(url){var e={},r=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?/.exec(url);if(r){e.protocol=r[1]?r[1]+":":"http:";e.hostname=r[3];e.port=r[4]||""}return e}return function(url){var r=location;if(url=Tools.trim(url)){url=url.toLowerCase();if(url.startsWith("//")){url=r.protocol+url}if(!url.startsWith("http")){return !0}var n=t(url),a=n.protocol===r.protocol&&n.hostname===r.hostname;a&&(a=n.port===r.port?!0:!r.port&&("http:"===r.protocol&&"80"===n.port||"https:"===r.protocol&&"443"===n.port));return a}return false}}(),y=arguments;if(this._yy_rum&&this._yy_rum.cte){try{return send.apply(this,y)}catch(g){return Function.prototype.apply.call(send,this,y)}}if(!this._yy_wrap){this._yy_rum.start=nowDate(),this._yy_rum.req=arguments[0]?myLength(arguments[0]):0;var thisXHR=this,_bid=bs.bid,_bidRef=bs.bidRef,d=0;if(myXHR.prototype.tempBid){thisXHR._yy_rum.bid=myXHR.prototype.tempBid}else{if(bs.bid_on_load){thisXHR._yy_rum.bid=bs.bid_on_load}else{if(!_bid){if(thisXHR._yy_rum&&thisXHR._yy_rum.bid){thisXHR._yy_rum.bid=null}_bid=makeBid(16);setTimeout(function(){bs.bid=null},0);thisXHR._yy_rum.bid=bs.bid=_bid}else{thisXHR._yy_rum.bid=_bid}}}if(!_bidRef[thisXHR._yy_rum.bid]){_bidRef[thisXHR._yy_rum.bid]=window.document.URL}var h=Tools.wrap(!1,this,"onreadystatechange",onReadyStateChange);h||Tools.addEventListener(this,"readystatechange",readyStateChange,!1);addEventsToXHR(this,["error","progress","abort","load","loadstart","loadend","timeout"]);h||setTimeout(function(){Tools.wrap(!1,thisXHR,"onreadystatechange",onReadyStateChange)},0);ajaxCounter.plus()}try{try{if(canSetRequestHeader(this)){this.setRequestHeader("busiid",this._yy_rum.bid);this.setRequestHeader("appid",yy_rum.server.appid);this.setRequestHeader("usercode",encodeURIComponent(YyRum.getUserId()))}}catch(g){}return send.apply(this,y)}catch(g){return Function.prototype.apply.call(send,this,y)}}}var k,myXHR=window.XMLHttpRequest,myDocument=document,myDefProp=Object.defineProperty,myDef=window.define,myEventTarget=window.EventTarget,regExp=new RegExp("([a-z]+:/{2,3}.*):(\\d+):(\\d+)"),myEncodeURI=window.encodeURIComponent,N=null,CLB="_yyy_last_bid",bs={bid:"",bid_on_load:Utils.cookie.get(CLB)||Utils.localStorage.get(CLB)||Utils.sessionStorage.get(CLB)||function(){var bidClearTimeout=5*60*1000;setTimeout(function(){bs.bid_on_load=""},bidClearTimeout);return makeBid(8)}(),bidRef:{},bizSrc:{tagValue:"",href:"",xpath:""}},ajaxCounter={initialized:false,count:0,plus:function(){if(this.count===0){this.initialized=true}this.count++},subtract:function(){if(this.count>0){this.count--}},isEmpty:function(){return this.initialized&&this.count===0},clear:function(){this.count=0;this.initialized=false}},yy_rum=window._yy_rum={start:nowDate(),resourceTimes:[],responseHeader:[],snd_du:function(){return this.server.adu?1000*this.server.adu:10000},cc:function(){return this.server.ac?this.server.ac:10}};function defaultHostOf(protocol){if(protocol==="https:"){return"https://yyy.yonyoucloud.com"}return"http://yyy.yonyou.com"}yy_rum.server={tid:Config.tid,appid:Config.appid,beacon:(Config.host||defaultHostOf(location.protocol))+"/send/api/browser",beacon_pf:(Config.host||defaultHostOf(location.protocol))+"/send/api/urlbrowser",trace_threshold:0,xhrData:[],bids:[],custom_urls:[],version:Config.version};if(yy_rum.server){var D=String.prototype.trim;String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.indexOf(t,e)===e});var I=/^http/i,myRandom=function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+"_"+t()+t()}(),Tools={log:function(){},domain:function(){return document.location.hostname},path:function(){},wrap:function(override,object,evtName,newFunc,options){try{var origFn=object[evtName]}catch(o){if(!override){return false}}if(!origFn&&!override){return false}if(origFn&&origFn._yy_wrap){return false}try{object[evtName]=newFunc(origFn,options)}catch(o){return false}object[evtName]._yy_wrap=[origFn];return true},unwrap:function(t,e){try{var r=t[e]._yy_wrap;r&&(t[e]=r[0])}catch(n){}},each:function(array,func){if(array){var r;for(r=0;r<array.length&&(!array[r]||!func(array[r],r,array));r+=1){}}},mkUrl:function(serverurl,postType,header){var args=arguments,params=[],url=serverurl;url=url+"?";for(var h in header){if(header.hasOwnProperty(h)){if(h==="url"||h==="ba"){params.push(h+"="+encodeURI(encodeURI(header[h])))}else{params.push(h+"="+header[h])}}}if(args.length>3){var items=args[3];for(var s in items){if(items.hasOwnProperty(s)){params.push(s+"="+items[s])}}url+=params.join("&")}return url},GET:function(url,callback){function r(){callback&&callback.apply(this,arguments);n.parentNode&&n.parentNode.removeChild(n)}if(navigator&&navigator.sendBeacon&&I.test(url)){return navigator.sendBeacon(url,null)}var n=myDocument.createElement("img");n.setAttribute("src",url);n.setAttribute("style","display:none");this.addEventListener(n,"readystatechange",function(){("loaded"==n.readyState||4==n.readyState)&&r("loaded")},false);this.addEventListener(n,"load",function(){r("load")},false);this.addEventListener(n,"error",function(){r("error")},false);myDocument.body.appendChild(n)},submitFormData:function(url,data,func){function creatHtmlElement(t,e,r){var n=myDocument.createElement(t);try{for(var a in e){n[a]=e[a]}}catch(i){var o="<"+t;for(var a in e){o+=" "+a+'="'+e[a]+'"'}o+=">",r||(o+="</"+t+">"),n=myDocument.createElement(o)}return n}var a=creatHtmlElement("div",{style:"display:none"},!1),i=creatHtmlElement("iframe",{name:"_yy_rum_frm",width:0,height:0,style:"display:none"},!1),o=creatHtmlElement("form",{style:"display:none",action:url,enctype:"application/x-www-form-urlencoded",method:"post",target:"_yy_rum_frm"},!1),s=creatHtmlElement("input",{name:"data",type:"hidden"},!0);return s.value=data,o.appendChild(s),a.appendChild(i),a.appendChild(o),myDocument.body.appendChild(a),o.submit(),i.onreadystatechange=function(){("complete"===i.readyState||4===i.readyState)&&(func(null,i.innerHTML),myDocument.body.removeChild(a))},!0},POST:function(url,body,header,callback){if(this.ie){return this.submitFormData(url,body,callback)}if(navigator&&navigator.sendBeacon&&I.test(url)){var i=navigator.sendBeacon(url,body);Tools.log("sent queued: "+i+">> url: "+url+"; data: "+body);callback(!i);return i}var o;if(window.XDomainRequest){o=new XDomainRequest;o.open("POST",url);o.onload=function(){callback(null,o.responseText)};this.addEventListener(o,"load",function(){callback(null,o.responseText)},!1);this.addEventListener(o,"error",function(){callback("POST("+url+")error")},!1);this.wrap(!0,o,"onerror",function(t){return function(){callback&&callback("post error",o.responseText);return !0}});o.send(body);return !0}if(!myXHR){return !1}o=new myXHR;o.overrideMimeType&&o.overrideMimeType("text/html");try{o._yy_wrap=1}catch(s){}var u=0;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&(0==u&&callback(null,o.responseText),u++)},o.onerror&&this.wrap(!0,o,"onerror",function(t){return function(){return callback("post error",o.responseText),"function"==typeof t?t.apply(this,arguments):!0}});try{o.open("POST",url,!0)}catch(s){return this.submitFormData(url,body,callback)}for(var c in header){o.setRequestHeader(c,header[c])}o.send(body);return true},addEventListener:function(obj,evtName,func,flag){if(obj.addEventListener){obj.addEventListener(evtName,func,flag)}else{if(obj.attachEvent){obj.attachEvent("on"+evtName,func)}}},removeEventListener:function(obj,evtName,func,flag){if(obj.removeEventListener){obj.removeEventListener(evtName,func,flag)}else{if(obj.detachEvent){obj.detachEvent("on"+evtName,func)}}},args:function(){for(var t=[],e=0;e<arguments.length;e++){t.push(arguments[e])}return t},stringify:toString,parseJSON:function(e){if(e&&"string"==typeof e){var r=window.JSON?window.JSON.parse:function(t){return new Function("return "+t)()};return r(e)}return null},trim:D?function(t){return null==t?"":D.call(t)}:function(t){return null==t?"":t.toString().replace(/^\s+/,"").replace(/\s+$/,"")},extend:function(t,e){if(t&&e){for(var r in e){e.hasOwnProperty(r)&&(t[r]=e[r])}}return t},bind:function(fun,obj){return function(){fun.apply(obj,arguments)}},indexOf:function(arr,ele){var r,n,i;if(undefined!==Array.prototype.indexOf){return arr.indexOf(ele)}for(n=arr.length,r=-1;++r<n;){if(i=arr[r],i===ele){return r}}return -1},canPostRegisterMessage:function(){return parent&&"function"===typeof parent.postMessage&&window.self!==window.top&&window.self!==window.parent},spreadToInnerIframes:function(data){var fr,frames=document.getElementsByTagName("iframe"),n=0,o=[];for(var i=frames.length;i>n;n++){fr=frames[n];o.push(this.spread(data,fr))}return o},spread:function(data,frame){var r=null!==frame&&frame.contentWindow;if(r){r.postMessage(data,"*")}},tree:function(node){var i=[];var name=(node.tagName||node.nodeName).toLowerCase();while(node){name=(node.tagName||node.nodeName).toLowerCase();if("body"===name||"html"===name){break}i.unshift(node);node=node.parentNode}return i},getNodeAttr:function(node,attr){return node.hasAttribute&&node.getAttribute(attr)||""},nodePath:function(node){var name=(node.tagName||node.nodeName).toLowerCase();var id=node.hasAttribute("id")&&!node.getAttribute("id").match(/^[0-9]/)&&node.getAttribute("id");var klass;if("input"===name&&node.hasAttribute("name")&&node.getAttribute("name")){klass=[node.getAttribute("name")]}else{var i,e;if(i=node.getAttribute("class")){e=Tools.trim(i.replace(/(^| )(clear|clearfix|active|hover|enabled|hidden|display|focus|disabled|ycm-|ng-)[^\. ]*/g,""))}if(e&&e.length){klass=e.split(/\s+/).sort()}}var path="/"+name;id&&(path+="#"+id);if(klass){for(var n=0,l=klass.length;l>n;n++){path+="."+klass[n]}}return path},calculateXpath:function(node){var xpath="";if(node.hasAttribute){var nodeTree=Tools.tree(node);for(var i=0,l=nodeTree.length;i<l;i++){xpath+=Tools.nodePath(nodeTree[i])}}return xpath}};try{myDefProp&&myDefProp(window,"define",{get:function(){return myDef},set:function(t){"function"==typeof t&&(t.amd||t.cmd)?(myDef=function(){var e=Tools.args.apply(this,arguments);if(3!==e.length){return t.apply(this,e)}var r="string"==typeof e[0]?e[0]:"anonymous";return t.apply(this,a(e,function(t,e,r){var n;try{k=r;evtMonitor(r);n=t.apply(this,e);f()}catch(a){f();throw i(a,r)}return n},r))},Tools.extend(myDef,t)):myDef=t},configurable:true})}catch($){}var winPerf=window.performance?window.performance:window.Performance;winPerf&&(Tools.addEventListener(winPerf,"resourcetimingbufferfull",function(){var t=winPerf.getEntriesByType("resource");t&&(yy_rum.resourceTimes=yy_rum.resourceTimes.concat(t),winPerf.clearResourceTimings())},!1),Tools.addEventListener(winPerf,"webkitresourcetimingbufferfull",function(){var t=winPerf.getEntriesByType("resource");t&&(yy_rum.resourceTimes=yy_rum.resourceTimes.concat(t),winPerf.webkitClearResourceTimings())},!1));var YyRum=yy_rum.metric={userId:null,allowSetRequestHeaders:false,timerOn:false,sendTimer:function(){YyRum.sendXHR();if(YyRum.timerOn){setTimeout(YyRum.sendTimer,1000)}},startSendTimer:function(){YyRum.timerOn=true;YyRum.sendTimer()},stopSendTimer:function(){YyRum.timerOn=false},ready:function(){return yy_rum.load_time},initend:function(){if(!yy_rum.end_time){yy_rum.end_time=nowDate();var b=window._yyy||[["setUserId",""]],isTypeOf=Utils.lang.isTypeOf;if(!b||isTypeOf(b,"Array")){window._yyy={cmd:{},push:function(){for(var b=window._yyy,i=0;i<arguments.length;i++){var d=arguments[i];if(isTypeOf(d,"Array")&&d.length>1){b.cmd[d[0]]=d[1]}}}};window._yyy.push.apply(window._yyy,b)}var cmd=window._yyy.cmd;for(var p in cmd){if(cmd.hasOwnProperty(p)){(typeof YyRum[p]==="function")&&YyRum[p](cmd[p])}}YyRum.startSendTimer()}},setUserId:function(value){var name="_yyy_user_id",c=Utils.cookie,l=Utils.localStorage,s=Utils.sessionStorage;YyRum.userId=typeof value==="string"&&value||typeof value==="function"&&value()||YyRum.getUserId();if(!YyRum.userId){YyRum.userId="yuc-"+getRandomStr(16);var age=31536000000;try{c.set(name,YyRum.userId,{domain:Tools.domain(),path:"/",expires:age});age?l.set(name,YyRum.userId,age):s.set(name,YyRum.userId)}catch(f){}}},getUserId:function(){var name="_yyy_user_id",c=Utils.cookie,l=Utils.localStorage,s=Utils.sessionStorage;return YyRum.userId||c.get("p_userId")||c.get("usercode")||c.get(name)||l.get(name)||s.get(name)},allowSetHeaders:function(allowed){YyRum.allowSetRequestHeaders=!!allowed},send:function(){function collectPerformanceTiming(){var maxPfMetric=0;function getPFMetric(timingStart,timingEnd,pt,ptAttr){var duration;if("number"===typeof timingStart&&timingStart>0){duration=Math.round(timingStart-timingEnd);pt[ptAttr]=duration}else{pt[ptAttr]=0}maxPfMetric=Math.max(maxPfMetric,pt[ptAttr])}var timing={};if(winPerf&&winPerf.timing){var pt=winPerf.timing,ns=pt.navigationStart;if(ns===0||ns&&(ns.toString().length<13)){return null}o=ns;timing={"tn":ns};getPFMetric(pt["unloadEventStart"],ns,timing,"tus");getPFMetric(pt["unloadEventEnd"],ns,timing,"tue");getPFMetric(pt["redirectStart"],ns,timing,"tes");getPFMetric(pt["redirectEnd"],ns,timing,"tee");getPFMetric(pt["fetchStart"],ns,timing,"tf");getPFMetric(pt["domainLookupStart"],ns,timing,"tds");getPFMetric(pt["domainLookupEnd"],ns,timing,"tde");getPFMetric(pt["connectStart"],ns,timing,"tcs");getPFMetric(pt["secureConnectionStart"],ns,timing,"tsl");getPFMetric(pt["connectEnd"],ns,timing,"tce");getPFMetric(pt["requestStart"],ns,timing,"tqs");getPFMetric(pt["responseStart"],ns,timing,"trs");getPFMetric(pt["responseEnd"],ns,timing,"tre");getPFMetric(pt["domLoading"],ns,timing,"tol");getPFMetric(pt["domInteractive"],ns,timing,"toi");getPFMetric(pt["domContentLoadedEventStart"],ns,timing,"tos");getPFMetric(pt["domContentLoadedEventEnd"],ns,timing,"toe");getPFMetric(pt["domComplete"],ns,timing,"toc");getPFMetric(pt["loadEventStart"],ns,timing,"tls");getPFMetric(pt["loadEventEnd"],ns,timing,"tle");timing.ttl=maxPfMetric;var fp;if(pt.msFirstPaint){fp=pt.msFirstPaint}else{if(window.chrome&&chrome.loadTimes){var d=chrome.loadTimes();d&&d.firstPaintTime&&(fp=1000*d.firstPaintTime)}else{yy_rum.firstPaint&&(fp=yy_rum.firstPaint)}}fp&&(timing.tfp=Math.round(fp-ns))}else{timing={t:o,tos:yy_rum.end_time-o,tle:yy_rum.load_time-o,ttl:yy_rum.load_time-o}}timing.je=YyRum.errors.length;YyRum.ct&&(timing.ct=YyRum.ct-o);YyRum.touch&&(timing.ttc=YyRum.touch-o);return timing}function resourceData(resourceName){var r=window._yy_rum.responseHeader;if(resourceName){for(var n=r.length-1;n>=0;n--){if(resourceName.indexOf(r[n].name)>-1){return r[n].xData}}}return null}function appendxhrTxid(resourceName,r1){if(resourceName){for(var n=r1.length-1;n>=0;n--){if(resourceName.indexOf(r1[n].url)>-1){return r1[n].txid}}}return null}function collectRes(threshold){function uncountedRes(){function optPush(name,initiatorType){if(!name){return}var opt={name:name,initiatorType:initiatorType,status:0};if(crName.indexOf(opt.name)<0){ucRes.push(opt)}}var ucRes=[],domScripts=document.scripts||[],domImages=document.images||[],domCss=document.styleSheets||[],crName="",optName,uLen=u.length,dsLen=domScripts.length,diLen=domImages.length,dcLen=domCss.length;for(var i=0;i<uLen;i++){crName=crName+u[i].name+","}for(i=0;i<dsLen;i++){optName=domScripts[i].src;optPush(optName,"script")}for(i=0;i<dcLen;i++){optName=domCss[i].href;optPush(optName,"css")}for(i=0;i<diLen;i++){optName=domImages[i].src;optPush(optName,"img")}return ucRes}function getResMetric(t){return resource[t]>0?resource[t]:0}if(threshold<yy_rum.server.trace_threshold){return null}var n=winPerf;if(n&&n.getEntriesByType){var res=[],s=yy_rum.resourceTimes,u=n.getEntriesByType("resource"),ur=uncountedRes();u&&(s=s.concat(u),n.webkitClearResourceTimings&&n.webkitClearResourceTimings(),n.clearResourceTimings&&n.clearResourceTimings());s=s.concat(ur);for(var j=0;j<s.length;j++){var resource=s[j],p={o:getResMetric("startTime"),rt:resource.initiatorType,n:resource.name,f:getResMetric("fetchStart"),ds:getResMetric("domainLookupStart"),de:getResMetric("domainLookupEnd"),cs:getResMetric("connectStart"),ce:getResMetric("connectEnd"),sl:getResMetric("secureConnectionStart"),qs:getResMetric("requestStart"),rs:getResMetric("responseStart"),re:getResMetric("responseEnd"),tfs:getResMetric("transferSize"),sat:resource.status===0?0:200},l=resourceData(resource.name);if(l){p.aid=l.id;p.atd=l.trId;p.an=l.action;p.aq=l.time&&l.time.qu;p.as=l.time&&l.time.duration}res.push(p)}return res}return null}if(this.sended){return}if(!this.ready()){return}var o=yy_rum.start,pf={};try{var timing=pf.timing=collectPerformanceTiming();if(timing&&timing.ttl<600000){var resData=collectRes((timing&&timing.tls)>0?timing.tls:yy_rum.load_time-o);pf.header={tid:yy_rum.server.tid,appid:yy_rum.server.appid,uc:YyRum.getUserId(),ip:"127.0.0.1",jid:myRandom+nowDate(),url:myDocument.URL,ts:nowDate(),jt:"web",ba:myDocument.title.replace(/\s/g,""),bid:bs.bid_on_load,rf:myDocument.referrer,nt:9,ua:Utils.userAgent.all,bv:Utils.userAgent.browser,dv:Utils.userAgent.device,sh:window.screen.height,sw:window.screen.width,v:yy_rum.server.version};var beacon=yy_rum.server.beacon_pf;var url=Tools.mkUrl(beacon,"pf",pf.header,pf.timing);var b=Tools.POST(url,Tools.stringify(resData),{},p("POST"));if(!b){Tools.GET(url)}}}catch(u){}var f=Tools.bind(sendErrors,this);f();setInterval(f,10000);this.sended=true;this.sendXHR(1)},sendXHR:function(t){if(this.ready()||t){if(!t){t=!this._last_send||nowDate()-this._last_send>yy_rum.snd_du()||yy_rum.server.xhrData.length>=yy_rum.cc()}if(yy_rum.server.xhrData.length>0&&t){this._last_send=nowDate();var xhr={};xhr.header={tid:yy_rum.server.tid,appid:yy_rum.server.appid,uc:YyRum.getUserId(),ua:Utils.userAgent.all,bv:Utils.userAgent.browser,dv:Utils.userAgent.device,sh:window.screen.height,sw:window.screen.width,v:yy_rum.server.version,ip:"#~#~#~",pt:"xhr"};xhr.content=yy_rum.server.xhrData;Tools.POST(yy_rum.server.beacon,Tools.stringify([xhr]),{},p("POST"));for(var k=0;k<yy_rum.server.xhrData.length;k++){var datum=yy_rum.server.xhrData[k];if(datum.bid){yy_rum.server.bids.push(datum.bid)}}yy_rum.server.xhrData=[]}if(ajaxCounter.isEmpty()&&yy_rum.server.bids.length>0&&t){ajaxCounter.clear();var _bizSrc=bs.bizSrc,_bidRef=bs.bidRef;for(var i=0;i<yy_rum.server.bids.length;i++){var bid=yy_rum.server.bids[i];if(_bizSrc[bid]){delete _bizSrc[bid];delete _bidRef[bid]}}}}},errors:[]},loaded=null,errorRecorded={},MC=new MessageCenter(),z=[["load",load],["beforeunload",unload],["pagehide",unload],["unload",unload]];for(var j=0;j<z.length;j++){Tools.addEventListener(window,z[j][0],z[j][1],!1)}window.addEventListener?Tools.addEventListener(window,"error",pushError,!1):window.onerror=function(errMsg,url,lineNo,colNo,error){var i=[nowDate(),errMsg,lineNo,colNo,url===myDocument.URL?"#":url];if(error){var o=simpleError(errMsg,lineNo,colNo,error.moduleName);i=i.concat([error.stack,error.moduleName,errorRecorded[o]?0:1]);errorRecorded[o]=!0}g(i);YyRum.errors.push(i)};var events=[["submit",setPageId],["keypress",domTouch],["click",domTouch],["focus",domTouch],["mouseup",domTouch],["DOMContentLoaded",domContentLoaded],["readystatechange",domComplete]];for(var n=0;n<events.length;n++){Tools.addEventListener(myDocument,events[n][0],events[n][1],!1)}Tools.each(["setTimeout","setInterval"],function(timer){var fnRegex=/function\s*([^(]*)\(/;window._yy_cyclic_timer={};function getCbName(callback){var name="";if(typeof callback==="string"){name=callback}else{if(typeof callback==="function"){name=callback.name||callback.toString().match(fnRegex)[1]||callback._yy_t_cb_na}}if(name===""||name===undefined){name=MD5.hex(callback.toString());callback._yy_t_cb_na=name}return name}Tools.wrap(true,window,timer,function(origTimer){return function(callback,millisec,param){var args=Array.prototype.slice.call(arguments,2),cbName=getCbName(callback);if(timer==="setInterval"){window._yy_cyclic_timer[cbName]=true}else{window._yy_cyclic_timer[cbName]=window._yy_t_cb_na===cbName}function wrappedCode(){window._yy_t_cb_na=cbName;if(typeof callback==="string"){eval(callback)}else{if(typeof callback==="function"){callback.apply(null,args)}}window._yy_t_cb_na=null}return origTimer(wrappedCode,millisec)}})});Tools.wrap(false,window,"requestAnimationFrame",function(handler){return function(){yy_rum.firstPaint=nowDate();window.requestAnimationFrame=handler;return handler.apply(this,arguments)}});if(myXHR){if(myXHR.prototype){Tools.wrap(!1,myXHR.prototype,"open",wrappedOpen);Tools.wrap(!1,myXHR.prototype,"send",wrappedSend)}else{Tools.ie=7;var G=myXHR;window.XMLHttpRequest=function(){var t=new G;Tools.wrap(!1,t,"open",wrappedOpen);Tools.wrap(!1,t,"send",wrappedSend);return t}}}else{window.ActiveXObject&&(Tools.ie=6)}}}(window);